<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		 Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<!--<script src="lib/js/html5shiv.js"></script>
		<!--<![endif]-->
	</head>

	<body>

		<div class="reveal">

			 <!--Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Python Basics - session 4</h1>
					<h2>Danske Commodities</h2>
					<p>~Søren Roesgaard Nielsen</p>
				</section>
				<section>
					<h2>Previously on</h2>
					<h2>"Python Basics"</h2>
				</section>
				<section>
					<ol>
						<li>Diamond kata review</li>
						<li>Reading/writing files</li>
						<li>Pip install</li>
						<li>Reading/writing files - exercises</li>
						<li>List comprehention - exercises</li>
						<li>Lambda - exercises</li>
						<li>Datetime - exercises</li>
						<li>Matplotlib - exercises</li>
					</ol>
				</section>
				<section>
					<h2>Agenda</h2>
					<ol>
						<li>dcFoundation</li>
						<li>Pandas exercises</li>
						<li>Best practices</li>
						<li>Sandboxing</li>
					</ol>
				</section>
				<section>
					<section>
						<h2>dcFoundation</h2>
						<p>Collection of packages developed by DC</p>
						<ul>
							<li class="fragment"><a href="https://dcget.dac.local/feeds/dc-pypi/">https://dcget.dac.local/feeds/dc-pypi/</a></li>
							<li class="fragment">Locally hosted package service</li>
							<li class="fragment">mostly used to get dcFoundation-MSSQL</li>
							<li class="fragment"><a href="https://dcget.dac.local/feeds/dc-pypi/dcfoundation-MSSQL/versions">https://dcget.dac.local/feeds/dc-pypi/dcfoundation-MSSQL/versions</a></li>
						</ul>
					</section>
					<section>
						<h2>dcFoundation</h2>
						<p>Collection of packages developed by DC</p>
						<ul>
							<li class="fragment">installed using pip or easy install</li>
							<li class="fragment">pip install --extra-index-url https://dcget.dac.local/pypi/dc-pypi/simple --trusted-host dcget.dac.local dcfoundation-MSSQL==0.3.2</li>
						</ul>
					</section>
					<section>
						<h2>dcFoundation</h2>
						<p>In code sql</p>
						<section data-markdown>
							<script type="text/template">
								```python
								sql_str = """
											SELECT DateValueCET AS ValueDate, DATEPART(HOUR, ValueDateTimeOffset) + 1 AS Hourcet, PriceMWh
											FROM [DPA_MarketData].[dpv].[FactPowerSpotPriceActual]
											WHERE PowerPriceArea = 'Germany'
											AND DateValueCET BETWEEN '2019-01-01' AND '2020-01-01'
											AND DataSource = 'EPEX'
											AND Granularity = 'hour'
											ORDER BY ValueDateTimeOffset
										"""

								connection_marketdata = dcpd.PandasDBConnectionManager(server_name='dpa_marketdata', db_name='dpa_marketdata', driver='ODBC Driver 17 for SQL Server')

								spot = dcpd.PandasDBConnectionManager.read_query_to_df(connection_marketdata, query_str=sql_str)
								```
							</script>
						</section>
					</section>
					<section>
						<h2>dcFoundation</h2>
						<p>sql file method</p>
						<section data-markdown>
							<p>sql file method - see file</p>
							<script type="text/template">
								```python
								connection_marketdata = dcpd.PandasDBConnectionManager(server_name='dpa_marketdata', db_name='dpa_marketdata', driver='ODBC Driver 17 for SQL Server')
								
								params = dict(startdate='2019-01-01', enddate='2020-01-01', datasource='EPEX')
								
								spot = dcpd.PandasDBConnectionManager.read_query_to_df(connection_marketdata, query_str='data/spot_price.sql', params=params).assign(ValueDate=lambda x: pd.to_datetime(x['ValueDate']))
								```
							</script>
						</section>
					</section>
				</section>

				<section>
					<h2>Now lets work!</h2>
					<p>Find the exercises on github</p>
				</section>
				<section>
					<h2>Best Practic</h2>
					<ol>
						<li>Split up your code in multiple files depending on functionality</li>
						<li>Use functions! makes your code easier to read and debug</li>
						<li>PEP8 (Good naming + lower_case + No MAGIC_NUMBERS)</li>
						<li>Exceptions to handle errors (try, except, else, finally)</li>
						<li>Comments when necessary and use docstrings</li>
						<li>Use typehints (alt + enter on a function)</li>
						<li>Use envs (Pipenv, virtualenv, conda env, etc.)</li>
					</ol>
				</section>
				
				
				<section>
					<section>
						<h1>Pipenv</h1>
						<ol>
							<li>Specific version of python</li>
							<li>Specific version of pip packages</li>
							<li>creates and manages virtual python envs</li>
						</ol>
					</section>
					<section data-markdown>
						<script type="text/template">
							# Pipenv
							pip install pipenv
							```Console
							> pip install pipenv
							...
							.............
							>
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							# Install Python
							cd into your project folder and install python
							```Console
							> pipenv install --python 3.8
							...
							[====] Creating virtual environment...

							>
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							# Install packages
							cd into your project folder use pipenv instead of pip
							```Console
							> pipenv install pandas
							...
							[====] Installing pandas...
							>
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							# Use on different computers
							cd into your project folder and sync env
							```Console
							> pipenv sync
							...
							[====]
							>
							```
						</script>
					</section>
				</section>
			</div>

		</div>

		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
